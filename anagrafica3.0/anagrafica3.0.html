<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Anagrafica Utente con Collection</title>
  <style>
    body { font-family: Arial; margin: 20px; }
    .form-container { max-width: 400px; }
  </style>
</head>
<body>

  <h2>Inserisci i tuoi dati</h2>

  <div class="form-container">

    <label>Nome:</label>
    <input type="text" id="nome"><br><br>

    <label>Cognome:</label>
    <input type="text" id="cognome"><br><br>

    <label>Indirizzo:</label>
    <input type="text" id="indirizzo"><br><br>

    <label>Città:</label>
    <input type="text" id="citta"><br><br>

    <label>CAP:</label>
    <input type="text" id="cap"><br><br>

    <label>Data di nascita:</label>
    <input type="date" id="dataNascita"><br><br>

    <label>Sesso:</label><br>
    <input type="radio" name="sesso" value="Maschio">Maschio<br>
    <input type="radio" name="sesso" value="Femmina">Femmina<br>
    <input type="radio" name="sesso" value="Altro">Altro<br><br>

    <label>Provincia:</label>
    <select id="provincia">
      <option value="--">Seleziona</option>
      <option value="MI">Milano</option>
      <option value="PV">Pavia</option>
      <option value="VA">Varese</option>
      <option value="CR">Cremona</option>
    </select>
    <br><br>

    <label>Mezzi posseduti in famiglia:</label><br>
    <input type="checkbox" name="mezzi" value="Auto">Auto<br>
    <input type="checkbox" name="mezzi" value="Moto">Moto<br>
    <input type="checkbox" name="mezzi" value="Bici">Bici<br>
    <input type="checkbox" name="mezzi" value="Aereo">Aereo<br>
    <input type="checkbox" name="mezzi" value="Yacht">Yacht<br><br>

    <label>Materie preferite (max 3):</label><br>
    <select id="materie" multiple size="9" style="height:150px">
      <option>Matematica</option>
      <option>Italiano</option>
      <option>Inglese</option>
      <option>Storia</option>
      <option>Geografia</option>
      <option>Scienze</option>
      <option>Informatica</option>
      <option>Filosofia</option>
      <option>Arte</option>
    </select>
    <br><br>

    <button onclick="mostraDati()">Invia</button>
  </div>
  <p id="risultato"></p>
  <script>
    function mostraDati() {


      let dati = [];

      dati.push(document.getElementById("nome").value);
      dati.push(document.getElementById("cognome").value);
      dati.push(document.getElementById("indirizzo").value);
      dati.push(document.getElementById("citta").value);
      dati.push(document.getElementById("cap").value);
      let birth = document.getElementById("dataNascita").value;
      dati.push(birth);
      let anno = new Date(birth).getFullYear();
      let generazione = "";
      if (anno >= 1901 && anno <= 1927) generazione = "Greatest Generation";
      else if (anno >= 1928 && anno <= 1945) generazione = "Silent Generation";
      else if (anno >= 1946 && anno <= 1964) generazione = "Baby Boomers";
      else if (anno >= 1965 && anno <= 1980) generazione = "Generazione X";
      else if (anno >= 1981 && anno <= 1996) generazione = "Millennials";
      else if (anno >= 1997 && anno <= 2012) generazione = "Generazione Z";
      else if (anno >= 2013 && anno <= 2023) generazione = "Generazione Alpha";
      else generazione = "Anno non valido";
      let sesso = "";
      let radios = document.getElementsByName("sesso");
      for (let r of radios) {
        if (r.checked) sesso = r.value;
      }
      dati.push(sesso);
      let provincia = document.getElementById("provincia").value;
      dati.push(provincia);
      let mezzi = [];
      let box = document.getElementsByName("mezzi");
      box.forEach(c => { if (c.checked) mezzi.push(c.value); });
      dati.push(mezzi);
      let materieSel = [];
      let lista = document.getElementById("materie");

      for (let opt of lista.options) {
        if (opt.selected) {
          if (materieSel.length < 3) materieSel.push(opt.value);
        }
      }
      dati.push(materieSel);
      document.getElementById("risultato").innerHTML =
        "<h3>Dati inseriti:</h3>" +
        "Nome: " + dati[0] + "<br>" +
        "Cognome: " + dati[1] + "<br>" +
        "Indirizzo: " + dati[2] + "<br>" +
        "Città: " + dati[3] + "<br>" +
        "CAP: " + dati[4] + "<br>" +
        "Data nascita: " + dati[5] + "<br>" +
        "Generazione: <b>" + generazione + "</b><br><br>" +

        "<b>Sesso:</b> " + dati[6] + "<br>" +
        "<b>Provincia:</b> " + dati[7] + "<br>" +
        "<b>Mezzi posseduti:</b> " + dati[8].join(", ") + "<br>" +
        "<b>Materie preferite:</b> " + dati[9].join(", ");
    }
  </script>
</body>
</html>


